tbb:
  cors:
    urls: ${TBB_CORS_URLS:http://localhost:4200,http://localhost:4201,https://tbbtalent-staging.herokuapp.com}

spring:
  application:
    name: TalentCatalog
  security:
    user:
      name: client
      password: client

  salesforce:
    privatekey: ${SALESFORCE_PRIVATEKEY:-----BEGIN PRIVATE KEY-----\nMIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAMrBTtv5Yh0gn0MW\nufbANxrprRWlYaiS8aDVlT61F1pShyLysqeEjEYczwxQeCaBzDxYxdSRjnn0oQLI\n8bZSM6W1VGEpA2jXsoXoNyJRNTy0VvsgFijrv2DP+kmO5H9EFSlRC9rzllyRMyeu\n0WMWSvb1A5y6yQoomoKOvkv6G8xnAgMBAAECgYEAnVLJgd5LxxYc/c2QlmonV/ah\nmv4sfMUoQAf6OiIB8M/Ak9mFzn4G6hBIh+GYmSh19Q1c08ftqaurk6GgDDxUXYph\nrHHDIZZcilDtFuyd+zVgegXrrW4pthlqNBLIvJ9p4uuckhpPAbzxzKwTGFcMXwd/\n22E4ZKB/Sf4XJN1aWyECQQDpNZh+Ylf5s0OAf9RbAwwTeMTczCyvTMhz7k6MqGAP\n4ah1f5Et3RkBOytE5FDNT1wwVtWc4FEzDkMOHjPj5gorAkEA3pHPwe39834ZHf95\nz6tvVnvoI854EY94WKmLQ6fL9RRhUNPi4OxKXm8wJ/V3ZtJ0WQdhE/FFeEG1f18E\nWaHUtQJAQl86k12x5CMc5wl6ipyHZ1NL0/tYDFwyAKymNmoFTP/QTgCMdR0j7LHG\nUskYJhacCjXsfcVp1roMY4w9AHOMGQJABdyVOihIbec+Rhn6XUvIjOCKhpbjdqLu\nqnccodWDe5rjzTsnWIEgnEgVXpgKYvzb75RQLDRIfhhM7WPVO38VmQJBAKaPn7//\neafJZMpvsfAiIgaeV5Is3SwBhTWtmZaC+DJx3GOPin7fQzXXvQz19+haQdhMGE16\ngb0l/65SHf4O8FM=\n-----END PRIVATE KEY-----\n}

  elasticsearch:
    rest:
      uris: ${ELASTICSEARCH_URL:http://localhost:9200}
      username: ${ELASTICSEARCH_USERNAME:}
      password: ${ELASTICSEARCH_PASSWORD:} 
  
  datasource:
    driverClassName: org.postgresql.Driver
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/tbbtalent}
    username: tbbtalent
    password: ${SPRING_DATASOURCE_PASSWORD:tbbtalent}
    hikari:
      maximum-pool-size: ${SPRING_DBPOOL_MAX:10}
      minimum-idle:  ${SPRING_DBPOOL_MIN:10}
      
  boot:
    admin:
      client:
#        url: ${SPRING_BOOT_ADMIN_CLIENT_URL:http://localhost:8081}
        username: admin
        password: admin
        instance:
          metadata:
            user:
              name: ${spring.security.user.name}
              password: ${spring.security.user.password}

#  To catch resource not found errors (404)
#  See https://stackoverflow.com/questions/36733254/spring-boot-rest-how-to-configure-404-resource-not-found/36734193#36734193
  mvc:
    throw-exception-if-no-handler-found: true
    
  resources:
    add-mappings: false


  jpa:
    show-sql: false
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    properties:
      hibernate:
        temp:
          use_jdbc_metadata_defaults: false


management:
   endpoints:
     web:
       exposure:
         include: ${MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE:*}

#Is this needed - not in Baeldung
   endpoint:
     loggers:
       enabled: true
   
   health:
     elasticsearch:
       enabled: false


jwt:
  secret: ${JWT_SECRET:RX4bokONoSrrNLM6CMTij9iG9jHFG5VfsN1zIi9UqDGK3pQXASG7xMEga2VrAj3P1SNmywqnWRoTXnltuJ5l+A==}
  expirationInMs: 604800000

server:
  tomcat:
    remote_ip_header: x-forwarded-for
    protocol_header: x-forwarded-proto
  url: https://tbbtalent-staging.herokuapp.com
web:
  portal: ${WEB_PORTAL:https://tbbtalent-staging.herokuapp.com/candidate-portal}
  admin: ${WEB_ADMIN:https://tbbtalent-staging.herokuapp.com/admin-portal}

flyway:
  ignoreMissingMigrations: true
  repair: true

aws:
  s3:
    bucketName: ${AWS_S3_BUCKETNAME:dev.files.tbbtalent.org}
    region: us-east-1
    max-size: 52428800
    upload-folder: temp
  credentials:
    accessKey: ${AWS_CREDENTIALS_ACCESSKEY:AKIA6C7ESOA6FCQTELMN}
    secretKey: ${AWS_CREDENTIALS_SECRETKEY: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}

#email:
#   type: SMTP # STUB or SMTP
#   host: smtp.gmail.com
#   port: 587
#   user: tbbtalent@talentbeyondboundaries.org
#   password: //check passpack
#   authenticated: true
#   defaultEmail: tbbtalent@talentbeyondboundaries.org
#   testOverrideEmail: tbbtalent@talentbeyondboundaries.org

email:
  type: SMTP # STUB or SMTP
  host: ${EMAIL_HOST:smtp.gmail.com}
  port: 587
  user: ${EMAIL_USER:tbbtalent@talentbeyondboundaries.org}
  password: ${EMAIL_PASSWORD:TBB4Talent!now}
  authenticated: true
  defaultEmail: ${EMAIL_DEFAULTEMAIL:tbbtalent@talentbeyondboundaries.org}
  testOverrideEmail: ${EMAIL_TESTOVERRIDEEMAIL:tbbtalent@talentbeyondboundaries.org}
