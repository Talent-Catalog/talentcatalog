<div class="container">

  <div *ngIf="loading">
    <span>Loading...</span>
  </div>

  <ng-container *ngIf="!loading">

    <div class="alert alert-danger" *ngIf="error">
      {{error.error?.message || error.message || error}}
    </div>

    <form [formGroup]="form">

      <!-- MAX EDUCATION LEVEL -->
      <div class="form-group">
        <label for="maxEducationLevelId" translate dir="auto">REGISTRATION.EDUCATION.LABEL.MAXEDUCATIONLEVELID</label>
        <select class="form-control" id="maxEducationLevelId" [formControlName]="'maxEducationLevelId'">
          <option value=""></option>
          <option *ngFor="let educationLevel of educationLevels" [value]="educationLevel.id">{{educationLevel.name}}</option>
        </select>
      </div>

    </form>

    <!-- EDUCATION HISTORY -->
    <app-candidate-education-form *ngIf="addingEducation"
                                  [countries]="countries"
                                  [majors]="majors"
                                  (saved)="handleCandidateEducationSaved()">
    </app-candidate-education-form>

    <div class="text-center mt-4">
      <button class="btn btn-outline-primary" translate dir="auto"
              (click)="addEducation()"
              [disabled]="loading || saving">
        REGISTRATION.EDUCATION.BUTTON.ADD
      </button>
    </div>

    <ng-container *ngIf="candidateEducationItems.length">
      <h3 translate dir="auto">REGISTRATION.EDUCATION.HISTORY.TITLE</h3>

      <pre class="mb-4" *ngFor="let item of candidateEducationItems">{{item | json}}</pre>
    </ng-container>

  </ng-container>

</div>

<app-registration-footer (backClicked)="back()" (nextClicked)="next()"></app-registration-footer>
