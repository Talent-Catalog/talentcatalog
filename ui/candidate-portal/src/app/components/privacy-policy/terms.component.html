<div class="container">
  <app-error [error]="error"></app-error>
  <div>
    <app-tab-header>
      <div class="text-center d-sm-flex justify-content-between align-items-center">
        <div class="text-sm-start mb-3 mb-sm-0">
          <h3>{{ 'HEADER.NAV.PRIVACY' | translate }}</h3>
          <div class="my-3" *ngIf="content?.length == 0">
            <a class="terms-link" target="_blank" href="https://www.talentbeyondboundaries.org/privacy-and-data-protection-policy">
              www.talentbeyondboundaries.org/privacy-and-data-protection-policy
            </a>
          </div>
          <div
            [innerHTML]="'REGISTRATION.SUBMIT.YOUR_PARTNER_IS'| translate:{partner: partnerName} ">
          </div>
          <div *ngIf="partnerEmail">
            {{ ('PROFILE.CONTACT.EMAIL'| translate) + ': ' + partnerEmail }}
          </div>
        </div>
        <button class="btn btn-sm btn-secondary" [routerLink]="'/profile'">
          <fa-icon class="me-1" icon="arrow-left"></fa-icon>
          Back
        </button>
      </div>
    </app-tab-header>

    <div *ngIf="content?.length > 0">

      <div *ngIf="requestAcceptance">
        <div *ngIf="!termsRead" class="d-flex justify-content-center text-center">
          <div class="alert alert-danger"
               [innerHTML]="'PROFILE.PRIVACY.CHANGED'| translate">
          </div>
        </div>
      </div>

      <app-show-terms
        [requestTermsRead]="requestAcceptance"
        (termsRead)="setTermsRead()"
      >
        <div [innerHtml]=content></div>
      </app-show-terms>

      <div *ngIf="!requestAcceptance" class="d-flex justify-content-center text-center">
        <div class="alert alert-success"
             [innerHTML]="'PROFILE.PRIVACY.THANK_ACCEPTANCE'| translate:{partner: partnerName} ">
        </div>
      </div>
      <div class="card mt-4 border-success shadow-sm mb-2" *ngIf="!requestAcceptance">
        <div class="card-body">
          <div class="d-flex align-items-center mb-2">
            <h6
              class="mb-0 text-success">{{ 'PROFILE.PRIVACY.ACCEPTANCE_DETAILS' | translate }}</h6>
          </div>
          <ul class="list-unstyled mb-0 text-muted small">
            <li>
              <strong>{{ 'PROFILE.PRIVACY.VERSION' | translate }}:</strong>
              {{ acceptedPrivacyPolicyId }}
            </li>
            <li>
              <strong>{{ 'PROFILE.PRIVACY.ACCEPTED_ON' | translate }}:</strong>
              {{ acceptedPrivacyPolicyDate | date:'mediumDate' }}
            </li>
            <li>
              <strong>{{ 'PROFILE.PRIVACY.ACCEPTED_WITH' | translate }}:</strong>
              {{ acceptedPrivacyPolicyPartner }}
            </li>
          </ul>
        </div>
      </div>

      <div *ngIf="requestAcceptance">
        <div>

          <button class="btn btn-success" (click)="acceptTerms()"
          >
            {{ 'REGISTRATION.SUBMIT.POLICY_ACCEPTANCE_TEXT' | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
